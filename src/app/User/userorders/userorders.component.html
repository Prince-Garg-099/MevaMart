<app-navbar></app-navbar>

<div class="cart-wrap mt-5 ">
    <div class="container">
        <div class="mt-3 mb-5">
            <div *ngFor="let order of Orders" class="mt-3 bg-light p-3 border rounded">
                <p class="mb-2 text-success">Order Id: <b>OD{{order._id.toUpperCase()}}</b></p>
                <p class="mb-2 text-success">Order Date and Time: <b>{{order.ordertime}}</b></p>
                
                <div *ngFor="let prod of order.products" class="row align-items-center mb-1">
                    <div class="col-2">
                        <img  style="width: 70px; border-radius: 8%; " src="../../../assets/cd_1.png" alt="prodimg">
                    </div>
                    <div class="col-2">
                        <h6>{{prod.name}}/-</h6>
                    </div>
                    <div class="col-2">
                        <h6>Price ₹{{prod.sellprice}}/-</h6>
                    </div>
                    <div class="col-2">
                        <h6>Qty {{prod.qnt}}</h6>
                    </div>
                    <div class="col-2">
                        <h6>Total ₹{{prod.qnt * prod.sellprice}}/-</h6>
                    </div>
                    
                </div>

                <div *ngIf="order.order_status !== 'Cancelled'" class="mt-2">
                    <button class="btn btn-danger me-2" [routerLink]="['/tracking', order._id]">Track Order</button>
                    <button class="btn btn-outline-danger btn-sm" (click)="cancelOrder(order._id)">❎ Cancel</button>
                </div>

                <div *ngIf="order.order_status === 'Cancelled'" class="mt-2">
                    <p class="text-danger">Your order has been cancelled</p>
                </div>

                <div *ngIf="order.order_status === 'Delivered'" class="mt-2">
                    <p class="text-success">Your order has been Delivered</p>
                </div>
            </div>
        </div>
    </div>
</div>
