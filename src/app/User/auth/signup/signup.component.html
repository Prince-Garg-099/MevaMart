<app-navbar></app-navbar>
<section class="vh-100 " style="background-color: #eee;">
  <div class="container py-1 h-100">
    <div class="row d-flex justify-content-center align-items-center h-100">
      <div class="col-lg-12 col-xl-11">
        <div class="card text-black" style="border-radius: 25px;">
          <div class="card-body ">
            <div class="row justify-content-center">
              <div class="col-md-10 col-lg-6 col-xl-5 order-2 order-lg-1">

                <p class="text-center h1 fw-bold mb-2 mx-1 mx-md-4 mt-4">Meva Mart</p>
                <p class="text-center h3 fw-bold mb-2 mx-1 mx-md-4 mt-4">Sign up</p>

                <form [formGroup]="userForm" class="mx-1 mx-md-4">

                  <div class="d-flex flex-row align-items-center mb-4 ">
                    <i class="fa fa-user-circle fa-lg me-3 fa-fw"></i>
                    <div class="form-outline form-group flex-fill mb-0">
                      <input formControlName="firstName" type="name" id="firstName" placeholder="First Name"
                        class="form-control" />
                      <span class="form-text text-danger" *ngIf="f.firstName.invalid && f.firstName.touched" style="color:red">
                        First Name is required

                      </span>
                    </div>
                  </div>

                  <div class="d-flex flex-row align-items-center mb-4 ">
                    <i class="fa fa-user-circle fa-lg me-3 fa-fw"></i>
                    <div class="form-outline form-group flex-fill mb-0">
                      <input formControlName="lastName" type="name" id="lastName" placeholder="Last Name"
                        class="form-control" />
                      <span class="form-text text-danger" *ngIf="f.lastName.invalid && f.lastName.touched" style="color:red">
                        Last Name is required

                      </span>
                    </div>
                  </div>

                  <div class="d-flex flex-row align-items-center mb-4 ">
                    <i class="fa fa-envelope fa-lg me-3 fa-fw"></i>
                    <div class="form-outline form-group flex-fill mb-0">
                      <input formControlName="emailAddress" type="email" id="emailAddress" placeholder="Email Address"
                        class="form-control" />
                      <span class="form-text text-danger" *ngIf="f.emailAddress.invalid && f.emailAddress.touched"
                        style="color:red">Please provide a valid email address
                      </span>
                    </div>
                  </div>


                  <div class="d-flex flex-row align-items-center mb-4">
                    <i class="fa fa-lock fa-lg me-3 fa-fw"></i>
                    <div class="form-outline form-group flex-fill mb-0">
                      <input
                        formControlName="password"
                        type="password"
                        id="password"
                        placeholder="Password"
                        class="form-control"
                        (input)="onPasswordInput(f['password'].value)"
                      />
                  
                      <ul class="list-unstyled mt-2 ms-2 small" aria-live="polite" aria-label="Password strength rules">
                        <li [class.text-success]="passwordRules.minLength" [class.text-danger]="!passwordRules.minLength">
                          <i class="fa" [ngClass]="{'fa-check': passwordRules.minLength, 'fa-times': !passwordRules.minLength}"></i>
                          Minimum 8 characters
                        </li>
                        <li [class.text-success]="passwordRules.upperCase" [class.text-danger]="!passwordRules.upperCase">
                          <i class="fa" [ngClass]="{'fa-check': passwordRules.upperCase, 'fa-times': !passwordRules.upperCase}"></i>
                          At least one uppercase letter
                        </li>
                        <li [class.text-success]="passwordRules.lowerCase" [class.text-danger]="!passwordRules.lowerCase">
                          <i class="fa" [ngClass]="{'fa-check': passwordRules.lowerCase, 'fa-times': !passwordRules.lowerCase}"></i>
                          At least one lowercase letter
                        </li>
                        <li [class.text-success]="passwordRules.number" [class.text-danger]="!passwordRules.number">
                          <i class="fa" [ngClass]="{'fa-check': passwordRules.number, 'fa-times': !passwordRules.number}"></i>
                          At least one number
                        </li>
                        <li [class.text-success]="passwordRules.specialChar" [class.text-danger]="!passwordRules.specialChar">
                          <i class="fa" [ngClass]="{'fa-check': passwordRules.specialChar, 'fa-times': !passwordRules.specialChar}"></i>
                          One special character ($!%*#?&^_-)
                        </li>
                        <li [class.text-success]="passwordRules.noWhitespace" [class.text-danger]="!passwordRules.noWhitespace">
                          <i class="fa" [ngClass]="{'fa-check': passwordRules.noWhitespace, 'fa-times': !passwordRules.noWhitespace}"></i>
                          No spaces
                        </li>
                      </ul>
                    </div>
                  </div>
                  
                  <div class="d-flex flex-row align-items-center mb-4">
                    <i class="fa fa-lock fa-lg me-3 fa-fw"></i>
                    <div class="form-outline form-group flex-fill mb-0">
                      <input
                        type="password"
                        formControlName="confirmPassword"
                        (input)="checkPasswords(f.password.value, f.confirmPassword.value)"
                        [ngClass]="confirmPasswordClass"
                        placeholder="Confirm Password"
                        class="form-control" />
                      <div *ngIf="isConfirmPasswordDirty && !passwordsMatching" class="text-danger">
                        Passwords do not match
                      </div>
                    </div>
                  </div>
                  
                  <div class="d-flex justify-content-center mx-4">
                    <button type="button"
                      [disabled]="userForm.invalid"
                      (click)="usersignup()"
                      class="btn design btn-primary btn-lg">
                      Register
                    </button>
                  </div>
                  
                </form>
              </div>
              <div class="col-md-6 col-lg-4 d-none d-md-block">
                <img src="../../../assets/cd_6.png" alt="login form" class="img-fluid"
                  style="border-radius: 1rem 0 0 1rem;" />
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>